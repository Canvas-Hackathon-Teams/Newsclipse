<div class="card">
  <div class="card-header">
    <div class="pull-right actions">
      <a ng-click="toggleDiscarded()">
        <img src="/static/img/accept.png" ng-show="card.discarded">
        <img src="/static/img/decline.png" ng-show="!card.discarded">
      </a>
      <a ng-click="expandCard()">
        <img src="/static/img/expand-blue.png" ng-show="!expanded">
        <img src="/static/img/collapse-blue.png" ng-show="expanded">
      </a>
    </div>
    <div>
      <span class="icon icon_{{card.type|lowercase}}"></span>
      <div ng-show="viewMode()" class="card-title">{{card.title}}</div>
      <input ng-show="editMode()" class="card-title" ng-model="card.title">
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="card-body" ng-show="expanded">
    <p ng-show="hasAliases()">
      <strong>a.k.a.</strong>
      <span ng-repeat="alias in card.aliases" ng-hide="alias == card.title">
        {{alias}}
      </span>
    </p>

    <a ng-click="toggleMode()">toggle mode</a>

    <div ng-show="viewMode()">
      <p>Custom text: {{card.text}}</p>
      <p>Wiki text: {{card.wiki_text}}</p>
    </div>
    <div ng-show="editMode()">
      <textarea ng-model="card.text"></textarea>
    </div>

    <div ng-show="hasEvidence()">
      <h3>Evidence</h3>
      <div ng-repeat="evidence in card.evidences">
        <nclipse-evidence story="story" card="card" evidence="evidence"></nclipse-evidence>
      </div>
    </div>
  </div>
</div>

